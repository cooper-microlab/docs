<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Cooper Union µLab Documentation</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Overview</a></li><li class="chapter-item expanded affix "><li class="part-title">Getting Started</li><li class="chapter-item expanded "><a href="getting-started/ssh.html">Connecting with SSH</a></li><li class="chapter-item expanded "><a href="getting-started/file-access.html">File Access</a></li><li class="chapter-item expanded affix "><li class="part-title">Tutorials</li><li class="chapter-item expanded "><a href="tutorials/vs-code-remote-development.html">VS Code Remote Development</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="contributors.html">Contributors</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Cooper Union µLab Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>Hello and welcome to the official documentation of µLab at The Cooper
Union for the Advancement of Science and Art!  We've been a completely
student-run organization responsible for maintaining the computing
resources of the Electrical Engineering department at the Albert Nerken
School of Engineering for over 30 years!</p>
<p>As far as we're aware, µLab is one of the only student-run organizations
that exist in the United States with near-complete autonomy from its
parent institution.  With that comes a few perks:</p>
<ul>
<li>Full control over the <code>199.98.27.0/24</code> subnet</li>
<li>Dozens of virtual machines &amp; containers hosting services</li>
<li>Fifty-five workstations which are all centrally managed &amp; orchestrated</li>
<li>Six physical servers (including a GPU compute node!)</li>
</ul>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p>Cooper Union µLab documentation is distributed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode">CC BY-NC-SA
4.0</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="connecting-with-ssh"><a class="header" href="#connecting-with-ssh">Connecting with SSH</a></h1>
<p>The Secure Shell Protocol, or SSH for short, is your gateway for
accessing µLab resources.  Using SSH, you can conceivably access any of
our resources from anywhere in the world with the bonus of being safe
and secure!</p>
<h2 id="invoking-the-ssh-client"><a class="header" href="#invoking-the-ssh-client">Invoking the SSH Client</a></h2>
<p>At its most basic level, SSH provides you with a remote shell.  As such,
you will need to utilize a terminal to make a connection.</p>
<p>Open a new terminal or command prompt window and type the following:</p>
<pre><code>$ ssh -p31415 first.last@dev.ee.cooper.edu
</code></pre>
<p>Let's breakdown the command:</p>
<ul>
<li><code>ssh</code>: the invocation of the SSH program</li>
<li><code>-p31415</code>: if you're trying to connect outside of the Cooper network,
you'll need to manually specify port <code>31415</code> as the school's firewall
blocks SSH's default port</li>
<li><code>first.last</code>: your µlab username</li>
<li><code>dev.ee.cooper.edu</code>: the host which we are trying to connect (this can
be any valid hostname running an SSH daemon)</li>
</ul>
<p>If you're connecting for the first time to a machine, you might have to
accept the host's key fingerprint:</p>
<pre><code>$ ssh -p31415 first.last@dev.ee.cooper.edu
The authenticity of host '[dev.ee.cooper.edu]:31415 ([199.98.27.254]:31415)' can't be established.
ED25519 key fingerprint is SHA256:w1duK0IPo7QWWBInuQKk7fdoYefMvi1SAZ8giVmDVQA.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])? _
</code></pre>
<p>All you need to do here is to type <code>yes</code>.</p>
<p>There's some very clever cryptography working behind the scenes to
ensure your connection is secure.  The math governing this is far beyond
the scope of this short guide, but it is here to prevent what's called a
&quot;man-in-the-middle attack.&quot;  If a malicious entity were to intercept
your SSH connection, you might see the following if you were to try
connecting again:</p>
<pre><code>$ ssh -p31415 first.last@dev.ee.cooper.edu
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ED25519 key sent by the remote host is
SHA256:someMaliciousKeyOverHereDontTryConnecting11.
Please contact your system administrator.
Add correct host key in /home/user/.ssh/known_hosts to get rid of this message.
Offending RSA key in /home/user/.ssh/known_hosts:1
Host key for [dev.ee.cooper.edu]:31415 has changed and you have requested strict checking.
Host key verification failed
$ _
</code></pre>
<p>If you see this message above when you attempt to connect, and you don't
know for sure that the host key fingerprints have changed, <strong>DO NOT
ATTEMPT TO CONNECT!</strong>  Instead, try to move to a different network
connection to see if that resolves the issue.  If this persists, please
reach out to <a href="mailto:eeadmin@cooper.edu"><code>&lt;eeadmin@cooper.edu&gt;</code></a>.</p>
<h2 id="adding-an-ssh-configuration"><a class="header" href="#adding-an-ssh-configuration">Adding an SSH Configuration</a></h2>
<p>Having to type such a long command can become tiring quite fast.  Using
a non-standard SSH port also creates the annoying situation of having to
manually specify the port for each program that uses SSH internally.  If
only we could avoid this headache!</p>
<p>To avoid this conundrum, you'll need to add a few things to your SSH
configuration file.  This file is located at <code>~/.ssh/config</code> on
UNIX-like operating systems and <code>%USERPROFILE%\.ssh\config</code> (typically
<code>C:\Users\username\.ssh\config</code>) on Windows . Open this file in a text
editor of your choice and add the following:</p>
<pre><code>Host *.ee.cooper.edu
	User first.last
	Port 31415
</code></pre>
<p>After the addition of these lines, you'll be able to connect using SSH
like so:</p>
<pre><code>$ ssh dev.ee.cooper.edu
</code></pre>
<p>Let's say you wanted to type even less because you often SSH into the
remote development machine.  You can add a host alias to your SSH
configuration file like so:</p>
<pre><code>Host dev
	Hostname dev.ee.cooper.edu
	User first.last
	Port 31415
</code></pre>
<p>Now all you'd need to type to SSH to the remote development machine
would be:</p>
<pre><code>$ ssh dev
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="file-access"><a class="header" href="#file-access">File Access</a></h1>
<p>Accessing your µLab files necessitates a file-transfer client that
supports the SSH protocol.  Although there are a lot of clients to
choose from, we'll cover a few of the most popular options.</p>
<h2 id="scp"><a class="header" href="#scp">SCP</a></h2>
<p>OpenSSH secure file copy (<code>scp</code>) is a command that behaves much like the
<code>cp</code> command with the added bonus of working over SSH.  The command has
the following semantics:</p>
<pre><code>$ scp [OPTIONS] source ... target
</code></pre>
<p>Lets say you want to download a file called <code>homework.c</code> under
<code>~/cu/ece-160/</code> to your local directory, the command would be as
follows:</p>
<pre><code>$ scp -P 31415 first.last@dev.ee.cooper.edu:cu/ece-160/homework.c .
(first.last@dev.ee.cooper.edu) Password:
homework.c                            100% 1247    60.8KB/s   00:00
$ _
</code></pre>
<p>Or lets say you wanted to copy a file called <code>project.c</code> in your local
directory to the folder <code>~/cu/ece-160/</code>:</p>
<pre><code>$ scp -P 31415 project.c first.last@dev.ee.cooper.edu:cu/ece-160
(first.last@dev.ee.cooper.edu) Password:
project.c                          100% 3102   140.7KB/s   00:00
$ _
</code></pre>
<p>And if you want to move a directory, you'll have to run the command
recursively with the <code>-r</code> flag:</p>
<pre><code>$ scp -r -P 31415 first.last@dev.ee.cooper.edu:cu/ece-160 .
(first.last@dev.ee.cooper.edu) Password:
homework.c                    100% 1247    74.2KB/s   00:00
project.c                     100% 3102   167.6KB/s   00:00
lesson-0.md                   100% 2783   135.9KB/s   00:00
assignment-0.md               100% 1492    76.1KB/s   00:00
...
$ _
</code></pre>
<blockquote>
<p>Note that if you added µLab hosts to your <a href="getting-started/ssh.html#adding-an-ssh-configuration">SSH configuration</a> the
commands above could have been simplified down to the following:</p>
<pre><code>$ scp dev.ee.cooper.edu:cu/ece-160/homework.c .
$ scp project.c dev.ee.cooper.edu:/tmp
$ scp -r @dev.ee.cooper.edu:cu/ece-160 .
</code></pre>
</blockquote>
<h2 id="sftp"><a class="header" href="#sftp">SFTP</a></h2>
<p>OpenSSH secure file transfer (<code>sftp</code>) is a client which gives you an
interactive way to transfer files to remote hosts.  To begin an
interactive session type the following:</p>
<pre><code>$ sftp -P 31415 first.last@dev.ee.cooper.edu
Connected to dev.ee.cooper.edu.
sftp&gt; _
</code></pre>
<p>To see a list of commands, type <code>help</code>:</p>
<pre><code>sftp&gt; help
Available commands:
bye                                Quit sftp
cd path                            Change remote directory to 'path'
chgrp [-h] grp path                Change group of file 'path' to 'grp'
chmod [-h] mode path               Change permissions of file 'path' to 'mode'
chown [-h] own path                Change owner of file 'path' to 'own'
copy oldpath newpath               Copy remote file
cp oldpath newpath                 Copy remote file
df [-hi] [path]                    Display statistics for current directory or
                                   filesystem containing 'path'
exit                               Quit sftp
get [-afpR] remote [local]         Download file
help                               Display this help text
lcd path                           Change local directory to 'path'
lls [ls-options [path]]            Display local directory listing
lmkdir path                        Create local directory
ln [-s] oldpath newpath            Link remote file (-s for symlink)
lpwd                               Print local working directory
ls [-1afhlnrSt] [path]             Display remote directory listing
lumask umask                       Set local umask to 'umask'
mkdir path                         Create remote directory
progress                           Toggle display of progress meter
put [-afpR] local [remote]         Upload file
pwd                                Display remote working directory
quit                               Quit sftp
reget [-fpR] remote [local]        Resume download file
rename oldpath newpath             Rename remote file
reput [-fpR] local [remote]        Resume upload file
rm path                            Delete remote file
rmdir path                         Remove remote directory
symlink oldpath newpath            Symlink remote file
version                            Show SFTP version
!command                           Execute 'command' in local shell
!                                  Escape to local shell
?                                  Synonym for help
sftp&gt; _
</code></pre>
<p>As an example, lets see how we'd do everything we did with <code>scp</code> with
<code>sftp</code>:</p>
<pre><code>sftp&gt; get cu/ece-160/homework.c .
Fetching /afs/ee.cooper.edu/user/f/first.last/cu/ece-160/homework.c to ./homework.c
homework.c                                            100% 1247    68.5KB/s   00:00
sftp&gt; put project.c cu/ece-160/
Uploading project.c to /afs/ee.cooper.edu/user/f/first.last/cu/ece-160/
project.c                                             100% 1247   137.3KB/s   00:00
sftp&gt; get -R cu/ece-160 .
Fetching /afs/ee.cooper.edu/user/f/first.last/cu/ece-160/ to ./ece-160
Retrieving /afs/ee.cooper.edu/user/f/first.last/cu/ece-160
homework.c                                            100% 1247    81.3KB/s   00:00
project.c                                             100% 3102   171.4KB/s   00:00
lesson-0.md                                           100% 2783   251.6KB/s   00:00
assignment-0.md                                       100% 1492   152.7KB/s   00:00
...
sftp&gt; _
</code></pre>
<p>Once you're done, either type <code>exit</code> or press <code>^D</code> to quit.</p>
<pre><code>sftp&gt; exit
$ _
</code></pre>
<h2 id="filezilla"><a class="header" href="#filezilla">FileZilla</a></h2>
<p>If command line programs aren't your thing, there's always <a href="https://filezilla-project.org/">FileZilla</a>.
When connecting, you'll need to specify the following information:</p>
<ul>
<li>Host: <code>sftp://dev.ee.cooper.edu</code></li>
<li>Username: <code>first.last</code></li>
<li>Password: <code>****************</code></li>
<li>Port: <code>31415</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vs-code-remote-development"><a class="header" href="#vs-code-remote-development">VS Code Remote Development</a></h1>
<p><a href="https://code.visualstudio.com/">VS Code</a> is one of the most popular text editors, and it'd be a shame
if you couldn't use it on µLab hosts if it is your editor of choice.
Thankfully Microsoft provides an easy-to-use <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh">editor extension</a> that
allows working remotely over SSH without much configuration.  Feel free
to reference the <a href="https://code.visualstudio.com/docs/remote/ssh-tutorial">official guide</a>, as we'll only cover configuration
changes and quirks you may run into while remotely editing on µLab
hosts.</p>
<blockquote>
<p>Before getting started, we <em>highly</em> recommend you add µLab hosts to
your <a href="tutorials/../getting-started/ssh.html#adding-an-ssh-configuration">SSH configuration</a> to decrease the complexity of connecting!</p>
</blockquote>
<h2 id="lock-files-in-tmp"><a class="header" href="#lock-files-in-tmp">Lock Files in <code>/tmp</code></a></h2>
<p>Since we have a federated login for µLab with home directories stored on
a network file system, lock files stored in a user home directory can
cause issues when connecting to hosts.  To avoid this, change the
<code>remote.SSH.lockfilesInTmp</code> setting to <code>true</code>.</p>
<h2 id="stale-sessions"><a class="header" href="#stale-sessions">Stale Sessions</a></h2>
<p>If you leave your session running for an extended period, your Kerberos
ticket may expire, preventing you from editing files.  To circumvent
this, you'll need to kill your existing session and initiate a new one.
You can do this by opening the command pallet and searching for
<code>Remote-SSH: Kill VS Code Server on Host...</code> and selecting the
appropriate host when prompted.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributors"><a class="header" href="#contributors">Contributors</a></h1>
<p>Here is a list of the contributors who have helped in writing our
documentation, huge shout-out to them!</p>
<ul>
<li>Jacob Koziej (EE '25)</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
